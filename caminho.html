<!DOCTYPE html>
<html lang="pt-br">

<head>
    <meta charset="utf-8">
    <link rel="stylesheet" href="css/styles.css">
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.4.1/css/bootstrap.min.css">
    <script src="js/jquery.min.js"></script>
    <title>O Caminho</title>
</head>

<body>
  <header>

    </header>
    <div id="menu"></div>
    <h1>O Caminho</h1>
    <p>Este método consiste em mostrar o tema envolvido, o comportamento até o momento e como se comportar no
        futuro. Indicado para se descobrir quais as mais prováveis possibilidades para se atingir uma meta.</p>
    <input id="btnEscolha" class="button" type="button" value="Escolher" onclick="escolha();">
    </div>
    <br>
    <br>
    <div id="data"></div>
    <div id="pergunta"></div>
    <div id="resumo"></div>
    <script>
        var tiragem = [{
                posicao: 'I',
                nome: 'Assunto',
                significado: 'As chances e os riscos envolvidos na pergunta.',
                aspecto: 'casa1'
            },
            {
                posicao: 'II',
                nome: 'Postura consciente',
                significado: 'O que está na cabeça: Pensamentos, motivações racionais, intenções etc.',
                aspecto: 'casa2'
            },
            {
                posicao: 'III',
                nome: 'Postura inconsciente',
                significado: 'O que está no nosso coração: Desejos, saudades e temores.',
                aspecto: 'casa3'
            },
            {
                posicao: 'IV',
                nome: 'Postura exterior',
                significado: 'A nossa apresentação e nossa aparência<',
                aspecto: 'casa4'
            },
            {
                posicao: 'V',
                nome: 'Proposta para o consciente',
                significado: 'Proposta para o modo de agir racional, como devemos agir no futuro',
                aspecto: 'casa5'
            },
            {
                posicao: 'VI',
                nome: 'Proposta para o inconsciente',
                significado: 'Proposta para o modo de analizar emocionalmente, como devemos abordar no futuro',
                aspecto: 'casa6'
            },
            {
                posicao: 'VII',
                nome: 'Proposta para a apresentação',
                significado: 'Assim nós devemos nos apresentar, como construir e apresentar a própria imagem',
                aspecto: 'casa7'
            },
        ];

        for (let index = 0; index < tiragem.length; index++) {
            $(document).ready(function () {
                $("#btnEscolha").before(
                    '<div class="opcoes"><b>' + tiragem[index].posicao + ' - ' + tiragem[index].nome +
                    ': </b>' +
                    '<select id="escolha' + index + '">' +
                    "<option value=0>O Louco</option>" +
                    "<option value=1>O Mago</option>" +
                    " <option value = 2 > A Sacerdotiza </option>" +
                    " <option value = 3 > A Imperatriz </option>" +
                    " <option value = 4 > O Imperador </option>" +
                    " <option value = 5 > O hierofante </option>" +
                    " <option value = 6 > O Enamorado </option>" +
                    " <option value = 7 > O Carro </option>" +
                    " <option value = 8 > A Justiça </option>" +
                    " <option value = 9 > O Eremita </option>" +
                    " <option value = 10 > A Roda Da Fortuna </option>" +
                    " <option value = 11 > A Força </option>" +
                    " <option value = 12 > O Pendurado </option>" +
                    " <option value = 13 > A Morte </option>" +
                    " <option value = 14 > A Temperança </option>" +
                    " <option value = 15 > O Diabo </option>" +
                    " <option value = 16 > A Torre </option>" +
                    " <option value = 17 > A Estrela </option>" +
                    " <option value = 18 > A Lua </option>" +
                    " <option value = 19 > O Sol </option>" +
                    " <option value = 20 > O Julgamento </option>" +
                    " <option value = 21 > O Mundo </option>" +
                    " <option value = 22 > Ás de Copas </option>" +
                    " <option value = 23 > 2 de Copas </option>" +
                    " <option value = 24 > 3 de Copas </option>" +
                    " <option value = 25 > 4 de Copas </option>" +
                    " <option value = 26 > 5 de Copas </option>" +
                    " <option value = 27 > 6 de Copas </option>" +
                    " <option value = 28 > 7 de Copas </option>" +
                    " <option value = 29 > 8 de Copas </option>" +
                    " <option value = 30 > 9 de Copas </option>" +
                    " <option value = 31 > 10 de Copas </option>" +
                    " <option value = 32 > Rei de Copas </option>" +
                    " <option value = 33 > Rainha de Copas </option>" +
                    " <option value = 34 > Cavaleiro de Copas </option>" +
                    " <option value = 35 > Princesa de Copas </option>" +
                    " <option value = 36 > Ás de Ouros </option>" +
                    " <option value = 37 > 2 de Ouros </option>" +
                    " <option value = 38 > 3 de Ouros </option>" +
                    " <option value = 39 > 4 de Ouros </option>" +
                    " <option value = 40 > 5 de Ouros </option>" +
                    " <option value = 41 > 6 de Ouros </option>" +
                    " <option value = 42 > 7 de Ouros </option>" +
                    " <option value = 43 > 8 de Ouros </option>" +
                    " <option value = 44 > 9 de Ouros </option>" +
                    " <option value = 45 > 10 de Ouros </option>" +
                    " <option value = 46 > Rei de Ouros </option>" +
                    " <option value = 47 > Rainha de Ouros </option>" +
                    " <option value = 48 > Cavaleiro de Ouros </option>" +
                    " <option value = 49 > Princesa de Ouros </option>" +
                    " <option value = 50 > Ás de Espadas </option>" +
                    " <option value = 51 > 2 de Espadas </option>" +
                    " <option value = 52 > 3 de Espadas </option>" +
                    " <option value = 53 > 4 de Espadas </option>" +
                    " <option value = 54 > 5 de Espadas </option>" +
                    " <option value = 55 > 6 de Espadas </option>" +
                    " <option value = 56 > 7 de Espadas </option>" +
                    " <option value = 57 > 8 de Espadas </option>" +
                    " <option value = 58 > 9 de Espadas </option>" +
                    " <option value = 59 > 10 de Espadas </option>" +
                    " <option value = 60 > Rei de Espadas </option>" +
                    " <option value = 61 > Rainha de Espadas </option>" +
                    " <option value = 62 > Cavaleiro de Espadas </option>" +
                    " <option value = 63 > Princesa de Espadas </option>" +
                    " <option value = 64 > Ás de Paus </option>" +
                    " <option value = 65 > 2 de Paus </option>" +
                    " <option value = 66 > 3 de Paus </option>" +
                    " <option value = 67 > 4 de Paus </option>" +
                    " <option value = 68 > 5 de Paus </option>" +
                    " <option value = 69 > 6 de Paus </option>" +
                    " <option value = 70 > 7 de Paus </option>" +
                    " <option value = 71 > 8 de Paus </option>" +
                    " <option value = 72 > 9 de Paus </option>" +
                    " <option value = 73 > 10 de Paus </option>" +
                    " <option value = 74 > Rei de Paus </option>" +
                    " <option value = 75 > Rainha de Paus </option>" +
                    " <option value = 76 > Cavaleiro de Paus </option>" +
                    " <option value = 77 > Princesa de Paus </option>" +
                    " </select><br></div>")
            });

        }

        function escolha() {
            escondeOpcoes();
            data();
            // questao();
            getPpf();

        }

        function getPpf() {
            var contMaiores = 0;
            var contPaus = 0;
            var contCopas = 0;
            var contEspadas = 0;
            var contOuros = 0;

            for (let index = 0; index < tiragem.length; index++) {
                var myElements = $("select");
                switch (tiragem[index].aspecto) {
                    case 'casa1':
                        var aplicarAspecto = caminho[myElements[index].value].casa1;
                        break;
                    case 'casa2':
                        var aplicarAspecto = caminho[myElements[index].value].casa2;
                        break;
                    case 'casa3':
                        var aplicarAspecto = caminho[myElements[index].value].casa3;
                        break;
                    case 'casa4':
                        var aplicarAspecto = caminho[myElements[index].value].casa4;
                        break;
                    case 'casa5':
                        var aplicarAspecto = caminho[myElements[index].value].casa5;
                        break;
                    case 'casa6':
                        var aplicarAspecto = caminho[myElements[index].value].casa6;
                        break;
                    case 'casa7':
                        var aplicarAspecto = caminho[myElements[index].value].casa7;
                        break;
                    default:
                        var aplicarAspecto = "#########";
                        break;
                }
                if (myElements[index].value <= 21) {
                    contMaiores++;
                } else if (myElements[index].value > 21 && myElements[index].value <= 35) {
                    contCopas++;
                } else if (myElements[index].value > 35 && myElements[index].value <= 49) {
                    contOuros++;
                } else if (myElements[index].value > 49 && myElements[index].value <= 63) {
                    contEspadas++;
                } else if (myElements[index].value > 63) {
                    contPaus++;
                }
                $("#resumo").before('<div class="leituras" id="arcano' + index + '">' +
                    '<h4>' + tiragem[index].posicao + " - " + tiragem[index].nome + '</h4>' +
                    "<br>" + tiragem[index].significado +
                    '<h5>' + caminho[myElements[index].value].numero + " - " + caminho[myElements[index].value]
                    .nome + '</h5>' +
                    aplicarAspecto +
                    '</div>'
                );

            }
            $("#resumo").after('<div id="analise"></div>')

            $("#analise").append(
                "<h5>Análise da leitura</h5>" +
                "Arcanos Maiores: " + Math.floor((contMaiores * 100) / tiragem.length) + "% " + '<meter max="' + tiragem
                .length + '" value="' + contMaiores + '"></meter>' + "<br>" +
                "Arcanos de Copas: " + Math.floor((contCopas * 100) / tiragem.length) + "% " + '<meter max="' + tiragem.length +
                '" value="' + contCopas + '"></meter>' + "<br>" +
                "Arcanos de Espadas: " + Math.floor((contEspadas * 100) / tiragem.length) + "% " + '<meter max="' + tiragem
                .length + '" value="' + contEspadas + '"></meter>' + "<br>" +
                "Arcanos de Ouros: " + Math.floor((contOuros * 100) / tiragem.length) + "% " + '<meter max="' + tiragem.length +
                '" value="' + contOuros + '"></meter>' + "<br>" +
                "Arcanos de Paus: " + Math.floor((contPaus * 100) / tiragem.length) + "% " + '<meter max="' + tiragem.length +
                '" value="' + contPaus + '"></meter>' + "<br>" +
                ' <input id="btnReset" class="button" type="button" value="Nova Leitura" onclick="reset();">'

            )

        }

        function reset() {
            $(".leituras").remove();
            $("#analise").remove();
            $(".opcoes").show();
            $("#btnEscolha").show();

        }

        function data() {
            hoje = new Date();
            d = hoje.getDate();
            m = hoje.getMonth() + 1;
            a = hoje.getFullYear();
        }

        function questao() {
            var nome = window.prompt('Insira Aqui seu nome: ')
            var pergunta = window.prompt('Insira aqui a sua pergunta :')
            document.getElementById('pergunta').innerHTML = '<br><b>Nome: </b>' + nome + '<br><b>Data: </b>' + d + '/' +
                m + '/' + a + '<br><b>Questão da pergunta: </b>' + pergunta + '<br><hr>';
        }

        function escondeOpcoes() {
            $(".leituras").remove();
            $(".opcoes").hide();
            $("#btnEscolha").hide();
        }
        $(document).ready(function () {
    $('header').append('<div class="header">' +
        '<div>' +
        '<img src="../img/eremita.png" alt="">' +
        '</div>' +
        '<div class="menu">' +
        '<div>' +
        '<h1>Estudo do tarot</h1>' +
        '</div>' +

        '</div>' +
        '</div>')
        $("#menu").append('<a href="index.html">Início</a>');
        for (let i = 0; i < leituras.length; i++) {
            $("#menu").append('<a href="' + leituras[i].sigla + '">' + leituras[i].leitura + '</a>')   
        }
})
    </script>
    <script src="js/caminho.js"></script>
    <script src="js/leituras.js"></script>
</body>

</html>